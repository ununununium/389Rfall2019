# Writeup 10 - Crypto I

Name: *Yuting Zhong*
Section: *0101*

I pledge on my honor that I have not given or received any unauthorized assistance on this assignment or examination.

Digital acknowledgement: *Yuting Zhong*


## Assignment details

### Part 1 (45 Pts)  

1. What is the structure of the ledger file format? Include exact byte offsets when static.  
 - Keyhash 16 bytes, ctext_hash 16 bytes, iv 16 bytes and ctext -- size is length of the ctext.

2. What specific cryptographic implementations are used by the program? I.e. not "hashing", but a specific algorithm. Why might this pose a risk?
 - Aes128_encrypt and md5_hash are implemented by this program. 
3. What information, if any, are you able to derive from [ledger.bin](ledger.bin) without decrypting it at all?
 - It contains a lot of hex numbers.

4. How does the application ensure Confidentiality? How is the encryption key derived?
 - The application ensure confidentiality by encrypt the messages prior to being written to file. Key is derived from md5 hash of the command line arguement 

5. How does the application ensure Integrity? Is this flawed in any way?
 - The application ensure integrity by check if the ciphertext hash from the file and the actual hash are the same.

6. How does the application ensure Authenticity? Is this flawed in any way?
 - The application checks for authenticity by check for key equality. It will check if the key hash inside the file is equals to the hash of the provided key.

7. How is the initialization vector generated and subsequently stored? Are there any issues with this implementation?
- The initialization vector is generated by `RAND_bytes` function which generates bytes randomly. It stored in cipher_parms structure which will be append to ledger.

### Part 2 (45 Pts)

### Part 3 (10 Pts)

